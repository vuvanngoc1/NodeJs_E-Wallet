<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<link rel="stylesheet" type="text/css" href="css/login_out/style.css">
	<link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
	<script src="https://kit.fontawesome.com/a81368914c.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

	<%
		let username = '';
		let password = '';
	
		if(dataRegister){
			username = dataRegister.username;
			password = dataRegister.password;
		}
	%>

	<img class="wave" src="img/wave.png">
	<div class="container">
		<div class="img">
			<img src="img/bg.svg">
		</div>
		<div class="login-content">
			<form method="post" action="">
				<img src="img/avatar.svg">
				<h2 class="title">Welcome to E-wallet</h2>
           		<div class="input-div one">
           		   <div class="i">
           		   		<i class="fas fa-user"></i>
           		   </div>
           		   <div class="div">
           		   		<h5>Username</h5>
           		   		<input name="username" type="text" class="input" value="<%= username %>">
           		   </div>
           		</div>
           		<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>Password</h5>
           		    	<input name="password" type="password" class="input" value="<%= password %>">
            	   </div>
            	</div>
				<% 
					let msg = '';

					if(errorMsg){
						msg = errorMsg;
					}

					if(msg != ""){
						%>
						<div class="errorMsg">
							<%= errorMsg %>
						</div>
						<%
					}
				%>
				<table style="width: 100%;">
					<tr>
						<td style="text-align: left;">
							<a href="register" style="text-align: left;color:#c2c0c0;text-decoration: none;"> Register</a>
						</td>
						<td style="text-align: right;">
							<a href="forgot_password" style="text-align: right;color:#c2c0c0;text-decoration: none;"> forgot password</a>
						</td>
					</tr>
				</table>
				
					<input type="submit" class="btn" value="LOGIN">
            </form>
        </div>

		<%
			let dsb = false;
			if(disabled == true){
				dsb = true;
			}

			if(dsb == true){
				%>
				<!-- dialogForBlockAccount -->
				<div id="modalBlockAccount" class="modal fade" tabindex="-1" role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Warning</h5> 
								<button style="padding:5px 10px;" type="button" class="close closeWarningModalBlock" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<p>Your account has been disabled, Please contact the hotline 18001008.</p>
							</div>
						</div>
					</div>
				</div>
				<%
			}
		%>


		<%
			let lockAccount = false;
			if(locked == true){
				lockAccount = true;
			}

			if(lockAccount == true){
				%>
				<!-- dialogForTemporarilyLockedAccount -->
				<div id="modalLock" class="modal fade" tabindex="-1" role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">Warning</h5> 
								<button style="padding:5px 10px;" type="button" class="close closeWarningModalLock" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<p>Your account is temporarily locked, please try again in 1 minute</p>
							</div>
						</div>
					</div>
				</div>
				<%
			}
		%>
    </div>
	<script>
		$(window).on('load', ()=>{
			if($('#modalBlockAccount')){
				$('#modalBlockAccount').modal('show');
				$('.closeWarningModalBlock').on('click', ()=>{
					$('#modalBlockAccount').modal('hide');
				})
			}

			if($('#modalLock')){
				$('#modalLock').modal('show');
				$('.closeWarningModalLock').on('click', ()=>{
					$('#modalLock').modal('hide');
				})
			}
		})
	</script>
    <script type="text/javascript" src="js/login_out/main.js"></script>
</body>
</html>
